function database () {
	this.data = require('./data.json');

	return this;
}

database.prototype.add = function (country) {
	this.data.push(country);

	console.log(country);
};

database.prototype.delete = function findAndRemove (value) {
	for (var country in this.data){
	   if (this.data.hasOwnProperty(country)){
	      if (this.data[country]['id'] === value){

	        this.data.splice(this.data[country]['id'] - 1, 1);
	      }
	   }
	}

	console.log('From delete');
	console.log(this.data);
};

database.prototype.find = function find (id, all) {
	if (all) {
		return this.data;
	} else {
		var result = {},
			searchField = "id",
			searchVal = id;

		for (var i = 0; i < this.data.length; i++)
		{
		    if (this.data[i][searchField] == searchVal) {
		        return this.data[i];
		    }
		}
	}

	return {
		'error': 'Can\'t find id[' + id + ']'
	};
};

module.exports = database;